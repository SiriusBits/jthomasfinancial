---
const pathname = Astro.url.pathname;
import Icon from '@/components/ui/Icon.astro';
import { Users, Briefcase, Mail, FileText } from '@/icons/lucide-icons';

const links = [
  { href: '/about', label: 'About', icon: Users },
  { href: '/services', label: 'Services', icon: Briefcase },
  { href: '/contact', label: 'Contact', icon: Mail },
  { href: '/privacy', label: 'Privacy', icon: FileText },
];

function isActive(href: string): boolean {
  return pathname.startsWith(href);
}
---

<header class="border-b border-slate-200 bg-white">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
    <a href="/" class="flex items-center shrink-0" aria-label="J Thomas and Associates â€” Home">
      <img
        src="/assets/logo-primary.svg"
        alt="J Thomas and Associates"
        width="180"
        height="58"
        class="h-9 w-auto md:h-11"
        fetchpriority="high"
      />
    </a>
    <nav class="flex items-center" aria-label="Main navigation">
      <ul class="flex flex-wrap items-center gap-x-6 gap-y-2 md:gap-x-8">
        {links.map(({ href, label, icon: IconComponent }) => (
          <li>
            <a
              href={href}
              class:list={[
                'inline-flex items-center gap-1.5 font-body text-sm font-medium transition-colors',
                isActive(href)
                  ? 'text-gold border-b-2 border-gold'
                  : 'text-navy hover:text-gold',
              ]}
            >
              <Icon icon={IconComponent} size={18} class="shrink-0" />
              <span>{label}</span>
            </a>
          </li>
        ))}
      </ul>
    </nav>
  </div>
</header>
